!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("redux"),require("redux-saga")):"function"==typeof define&&define.amd?define(["exports","redux","redux-saga"],e):e(t.DvaCore={},t.Redux,t.ReduxSaga)}(this,function(t,e,r){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r;var n=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t};var o=function(t){for(var e=1;arguments.length>e;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),o.forEach(function(e){n(t,e,r[e])})}return t},a=function(t,e,r,n,o,a,i,u){if(!t){var c;if(void 0===e)c=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[r,n,o,a,i,u],s=0;(c=Error(e.replace(/%s/g,function(){return f[s++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}},i=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)};function u(t){return!0===i(t)&&"[object Object]"===Object.prototype.toString.call(t)}var c=Array.isArray.bind(Array),f=function(t){return"function"==typeof t},s=function(t){return t},l=function(){},p=function(t,e){for(var r=0,n=t.length;n>r;r++)if(e(t[r],r))return r;return-1},d=function(){},h="/";function v(t,e,r){return Object.keys(t).reduce(function(n,o){return d(0!==o.indexOf(""+e+h),"[prefixNamespace]: "+r+" "+o+" should not be prefixed with namespace "+e),n[""+e+h+o]=t[o],n},{})}function y(t){var e=t.namespace,r=t.reducers,n=t.effects;return r&&(c(r)?t.reducers[0]=v(r[0],e,"reducer"):t.reducers=v(r,e,"reducer")),n&&(t.effects=v(n,e,"effect")),t}var g=["onError","onStateChange","onAction","onHmr","onReducer","onEffect","extraReducers","extraEnhancers","_handleActions"];var m=function(){function t(){this._handleActions=null,this.hooks=g.reduce(function(t,e){return t[e]=[],t},{})}var e=t.prototype;return e.use=function(t){var e,r,n;a(!1!==u(e=t)&&"function"==typeof(r=e.constructor)&&!1!==u(n=r.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"),"plugin.use: plugin should be plain object");var o=this.hooks;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a(o[i],"plugin.use: unknown plugin property: "+i),"_handleActions"===i?this._handleActions=t[i]:"extraEnhancers"===i?o[i]=t[i]:o[i].push(t[i]))},e.apply=function(t,e){var r=this.hooks;a(["onError","onHmr"].indexOf(t)>-1,"plugin.apply: hook "+t+" cannot be applied");var n=r[t];return function(){if(n.length)for(var t=Array.isArray(o=n),r=0,o=t?o:o[Symbol.iterator]();;){var a;if(t){if(r>=o.length)break;a=o[r++]}else{if((r=o.next()).done)break;a=r.value}a.apply(void 0,arguments)}else e&&e.apply(void 0,arguments)}},e.get=function(t){var e,r=this.hooks;return a(t in r,"plugin.get: hook "+t+" cannot be got"),"extraReducers"===t?function(t){for(var e={},r=Array.isArray(a=t),n=0,a=r?a:a[Symbol.iterator]();;){var i;if(r){if(n>=a.length)break;i=a[n++]}else{if((n=a.next()).done)break;i=n.value}var u=i;e=o({},e,u)}return e}(r[t]):"onReducer"===t?(e=r[t],function(t){for(var r=e,n=Array.isArray(r),o=0,r=n?r:r[Symbol.iterator]();;){var a;if(n){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}var i=a;t=i(t)}return t}):r[t]},t}();var b=function(t,e){return(e="number"==typeof e?e:1/0)?function t(r,n){return r.reduce(function(r,o){return r.concat(Array.isArray(o)&&e>n?t(o,n+1):o)},[])}(t,1):Array.isArray(t)?t.map(function(t){return t}):t};var x,w=(function(t){!function(e){var r,n=Object.prototype,o=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",f=e.regeneratorRuntime;if(f)t.exports=f;else{(f=e.regeneratorRuntime=t.exports).wrap=b;var s="suspendedStart",l="suspendedYield",p="executing",d="completed",h={},v={};v[i]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==n&&o.call(g,i)&&(v=g);var m=A.prototype=w.prototype=Object.create(v);k.prototype=m.constructor=A,A.constructor=k,A[c]=k.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(m),t},f.awrap=function(t){return{__await:t}},E(_.prototype),_.prototype[u]=function(){return this},f.AsyncIterator=_,f.async=function(t,e,r,n){var o=new _(b(t,e,r,n));return f.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},E(m),m[c]="Generator",m[i]=function(){return this},m.toString=function(){return"[object Generator]"},f.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},f.values=C,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,o){return u.type="throw",u.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return n("end");if(this.prev>=i.tryLoc){var c=o.call(i,"catchLoc"),f=o.call(i,"finallyLoc");if(c&&f){if(i.catchLoc>this.prev)return n(i.catchLoc,!0);if(i.finallyLoc>this.prev)return n(i.finallyLoc)}else if(c){if(i.catchLoc>this.prev)return n(i.catchLoc,!0)}else{if(!f)throw Error("try statement without catch or finally");if(i.finallyLoc>this.prev)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(this.prev>=n.tryLoc&&o.call(n,"finallyLoc")&&n.finallyLoc>this.prev){var a=n;break}}!a||"break"!==t&&"continue"!==t||a.tryLoc>e||e>a.finallyLoc||(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),h}}}function b(t,e,r,n){var o=Object.create((e&&e.prototype instanceof w?e:w).prototype),a=new S(n||[]);return o._invoke=function(t,e,r){var n=s;return function(o,a){if(n===p)throw Error("Generator is already running");if(n===d){if("throw"===o)throw a;return R()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var u=O(i,r);if(u){if(u===h)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===s)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var c=x(t,e,r);if("normal"===c.type){if(n=r.done?d:l,c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=d,r.method="throw",r.arg=c.arg)}}}(t,r,a),o}function x(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function w(){}function k(){}function A(){}function E(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function _(t){var e;this._invoke=function(r,n){function a(){return new Promise(function(e,a){!function e(r,n,a,i){var u=x(t[r],t,n);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&o.call(f,"__await")?Promise.resolve(f.__await).then(function(t){e("next",t,a,i)},function(t){e("throw",t,a,i)}):Promise.resolve(f).then(function(t){c.value=t,a(c)},function(t){return e("throw",t,a,i)})}i(u.arg)}(r,n,e,a)})}return e=e?e.then(a,a):a()}}function O(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,O(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=x(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:R}}function R(){return{value:r,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())}(x={exports:{}},x.exports),x.exports),k=function(){return this||"object"==typeof self&&self}()||Function("return this")(),A=k.regeneratorRuntime&&Object.getOwnPropertyNames(k).indexOf("regeneratorRuntime")>=0,E=A&&k.regeneratorRuntime;k.regeneratorRuntime=void 0;var _=w;if(A)k.regeneratorRuntime=E;else try{delete k.regeneratorRuntime}catch(t){k.regeneratorRuntime=void 0}var O=_,j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L=function(t){return"@@redux-saga/"+t},S=L("TASK"),C=L("HELPER"),R=L("CANCEL_PROMISE"),P=L("SELF_CANCELLATION"),T=function(t){return function(){return t}}(!0),N=function(){},q=function(t){return t};function F(t,e,r){if(!e(t))throw function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";"undefined"==typeof window?console.log("redux-saga "+t+": "+e+"\n"+(r&&r.stack||r)):console[t](e,r)}("error","uncaught at check",r),Error(r)}var U=Object.prototype.hasOwnProperty;var M={undef:function(t){return null==t},notUndef:function(t){return null!=t},func:function(t){return"function"==typeof t},number:function(t){return"number"==typeof t},string:function(t){return"string"==typeof t},array:Array.isArray,object:function(t){return t&&!M.array(t)&&"object"===(void 0===t?"undefined":j(t))},promise:function(t){return t&&M.func(t.then)},iterator:function(t){return t&&M.func(t.next)&&M.func(t.throw)},iterable:function(t){return t&&M.func(Symbol)?M.func(t[Symbol.iterator]):M.array(t)},task:function(t){return t&&t[S]},observable:function(t){return t&&M.func(t.subscribe)},buffer:function(t){return t&&M.func(t.isEmpty)&&M.func(t.take)&&M.func(t.put)},pattern:function(t){return t&&(M.string(t)||"symbol"===(void 0===t?"undefined":j(t))||M.func(t)||M.array(t))},channel:function(t){return t&&M.func(t.take)&&M.func(t.close)},helper:function(t){return t&&t[C]},stringableFunc:function(t){return M.func(t)&&(r="toString",M.notUndef(e=t)&&U.call(e,r));var e,r}};function I(t){var e=1>=arguments.length||void 0===arguments[1]||arguments[1],r=void 0,n=new Promise(function(n){r=setTimeout(function(){return n(e)},t)});return n[R]=function(){return clearTimeout(r)},n}var G=function(t){throw t},D=function(t){return{value:t,done:!0}};function H(t,e){return function(){return t.apply(void 0,arguments)}}var K=function(t,e){return(t?t+".":"")+"setContext(props): argument "+e+" is not a plain object"},Y=L("IO"),X="TAKE",z="PUT",B="ALL",J="RACE",V="CALL",$="CPS",Q="FORK",W="JOIN",Z="CANCEL",tt="SELECT",et="ACTION_CHANNEL",rt="CANCELLED",nt="FLUSH",ot="GET_CONTEXT",at="SET_CONTEXT",it="\n(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)",ut=function(t,e){var r;return(r={})[Y]=!0,r[t]=e,r},ct=function(t){return F(bt.fork(t),M.object,"detach(eff): argument must be a fork effect"),t[Q].detached=!0,t};function ft(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*";if(arguments.length&&F(arguments[0],M.notUndef,"take(patternOrChannel): patternOrChannel is undefined"),M.pattern(t))return ut(X,{pattern:t});if(M.channel(t))return ut(X,{channel:t});throw Error("take(patternOrChannel): argument "+t+" is not valid channel or a valid pattern")}var st=H(ft.maybe=function(){var t=ft.apply(void 0,arguments);return t[X].maybe=!0,t});function lt(t,e){return arguments.length>1?(F(t,M.notUndef,"put(channel, action): argument channel is undefined"),F(t,M.channel,"put(channel, action): argument "+t+" is not a valid channel"),F(e,M.notUndef,"put(channel, action): argument action is undefined")):(F(t,M.notUndef,"put(action): argument action is undefined"),e=t,t=null),ut(z,{channel:t,action:e})}function pt(t){return ut(B,t)}function dt(t,e,r){F(e,M.notUndef,t+": argument fn is undefined");var n=null;if(M.array(e)){n=e[0],e=e[1]}else if(e.fn){n=e.context,e=e.fn}return n&&M.string(e)&&M.func(n[e])&&(e=n[e]),F(e,M.func,t+": argument "+e+" is not a function"),{context:n,fn:e,args:r}}function ht(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;e>n;n++)r[n-1]=arguments[n];return ut(V,dt("call",t,r))}function vt(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;e>n;n++)r[n-1]=arguments[n];return ut(Q,dt("fork",t,r))}function yt(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];if(e.length>1)return pt(e.map(function(t){return yt(t)}));var n=e[0];return 1===e.length&&(F(n,M.notUndef,"cancel(task): argument task is undefined"),F(n,M.task,"cancel(task): argument "+n+" is not a valid Task object "+it)),ut(Z,n||P)}function gt(t,e){return F(t,M.notUndef,"actionChannel(pattern,...): argument pattern is undefined"),arguments.length>1&&(F(e,M.notUndef,"actionChannel(pattern, buffer): argument buffer is undefined"),F(e,M.buffer,"actionChannel(pattern, buffer): argument "+e+" is not a valid buffer")),ut(et,{pattern:t,buffer:e})}lt.resolve=function(){var t=lt.apply(void 0,arguments);return t[z].resolve=!0,t},lt.sync=H(lt.resolve);var mt=function(t){return function(e){return e&&e[Y]&&e[t]}},bt={take:mt(X),put:mt(z),all:mt(B),race:mt(J),call:mt(V),cps:mt($),fork:mt(Q),join:mt(W),cancel:mt(Z),select:mt(tt),actionChannel:mt(et),cancelled:mt(rt),flush:mt(nt),getContext:mt(ot),setContext:mt(at)},xt={done:!0,value:void 0},wt={};function kt(t){return M.channel(t)?"channel":Array.isArray(t)?t.map(function(t){return t+""})+"":t+""}function At(t,e){var r=void 0,n=e;function o(e,o){if(n===wt)return xt;if(o)throw n=wt,o;r&&r(e);var a=t[n]();return r=a[2],(n=a[0])===wt?xt:a[1]}return function(t){var e={name:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",next:t,throw:arguments.length>1&&void 0!==arguments[1]?arguments[1]:G,return:D};return arguments[3]&&(e[C]=!0),"undefined"!=typeof Symbol&&(e[Symbol.iterator]=function(){return e}),e}(o,function(t){return o(null,t)},arguments.length>2&&void 0!==arguments[2]?arguments[2]:"iterator",!0)}var Et="Channel's Buffer overflow!",_t=1,Ot=3,jt=4,Lt={isEmpty:T,put:N,take:N};function St(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments[1],r=Array(t),n=0,o=0,a=0,i=function(e){r[o]=e,o=(o+1)%t,n++},u=function(){if(0!=n){var e=r[a];return r[a]=null,n--,a=(a+1)%t,e}},c=function(){for(var t=[];n;)t.push(u());return t};return{isEmpty:function(){return 0==n},put:function(u){if(t>n)i(u);else{var f=void 0;switch(e){case _t:throw Error(Et);case Ot:r[o]=u,a=o=(o+1)%t;break;case jt:f=2*t,r=c(),n=r.length,o=r.length,a=0,r.length=f,t=f,i(u)}}},take:u,flush:c}}var Ct={none:function(){return Lt},fixed:function(t){return St(t,_t)},dropping:function(t){return St(t,2)},sliding:function(t){return St(t,Ot)},expanding:function(t){return St(t,jt)}},Rt={type:"@@redux-saga/CHANNEL_END"};function Pt(t,e){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;r>o;o++)n[o-2]=arguments[o];var a={done:!1,value:ft(t)},i=void 0,u=function(t){return i=t};return At({q1:function(){return["q2",a,u]},q2:function(){return i===Rt?[wt]:["q1",(t=i,{done:!1,value:vt.apply(void 0,[e].concat(n,[t]))})];var t}},"q1","takeEvery("+kt(t)+", "+e.name+")")}function Tt(t,e){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;r>o;o++)n[o-2]=arguments[o];var a={done:!1,value:ft(t)},i=function(t){return{done:!1,value:vt.apply(void 0,[e].concat(n,[t]))}},u=void 0,c=void 0,f=function(t){return u=t},s=function(t){return c=t};return At({q1:function(){return["q2",a,s]},q2:function(){return c===Rt?[wt]:u?["q3",function(t){return{done:!1,value:yt(t)}}(u)]:["q1",i(c),f]},q3:function(){return["q1",i(c),f]}},"q1","takeLatest("+kt(t)+", "+e.name+")")}function Nt(t,e,r){for(var n=arguments.length,o=Array(n>3?n-3:0),a=3;n>a;a++)o[a-3]=arguments[a];var i=void 0,u=void 0,c={done:!1,value:gt(e,Ct.sliding(1))},f={done:!1,value:ht(I,t)},s=function(t){return i=t},l=function(t){return u=t};return At({q1:function(){return["q2",c,l]},q2:function(){return["q3",{done:!1,value:ft(u)},s]},q3:function(){return i===Rt?[wt]:["q4",(t=i,{done:!1,value:vt.apply(void 0,[r].concat(o,[t]))})];var t},q4:function(){return["q2",f]}},"q1","throttle("+kt(e)+", "+r.name+")")}function qt(t,e){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;r>o;o++)n[o-2]=arguments[o];return vt.apply(void 0,[Pt,t,e].concat(n))}function Ft(t,e){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;r>o;o++)n[o-2]=arguments[o];return vt.apply(void 0,[Tt,t,e].concat(n))}function Ut(t,e,r){for(var n=arguments.length,o=Array(n>3?n-3:0),a=3;n>a;a++)o[a-3]=arguments[a];return vt.apply(void 0,[Nt,t,e,r].concat(o))}var Mt=Object.freeze({take:ft,takem:st,put:lt,all:pt,race:function(t){return ut(J,t)},call:ht,apply:function(t,e){return ut(V,dt("apply",{context:t,fn:e},arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]))},cps:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;e>n;n++)r[n-1]=arguments[n];return ut($,dt("cps",t,r))},fork:vt,spawn:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;e>n;n++)r[n-1]=arguments[n];return ct(vt.apply(void 0,[t].concat(r)))},join:function t(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];if(r.length>1)return pt(r.map(function(e){return t(e)}));var o=r[0];return F(o,M.notUndef,"join(task): argument task is undefined"),F(o,M.task,"join(task): argument "+o+" is not a valid Task object "+it),ut(W,o)},cancel:yt,select:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;e>n;n++)r[n-1]=arguments[n];return 0===arguments.length?t=q:(F(t,M.notUndef,"select(selector,[...]): argument selector is undefined"),F(t,M.func,"select(selector,[...]): argument "+t+" is not a function")),ut(tt,{selector:t,args:r})},actionChannel:gt,cancelled:function(){return ut(rt,{})},flush:function(t){return F(t,M.channel,"flush(channel): argument "+t+" is not valid channel"),ut(nt,t)},getContext:function(t){return F(t,M.string,"getContext(prop): argument "+t+" is not a string"),ut(ot,t)},setContext:function(t){return F(t,M.object,K(null,t)),ut(at,t)},takeEvery:qt,takeLatest:Ft,throttle:Ut});function It(t,e){var r=""+e.namespace+h+t,n=r.replace(/\/@@[^\/]+?$/,"");return e.reducers&&e.reducers[n]||e.effects&&e.effects[n]?r:t}var Gt=qt,Dt=Ft,Ht=Ut;function Kt(t,e,r,n,o){var i,u=O.mark(p),c=e,f="takeEvery";if(Array.isArray(e)){c=e[0];var s=e[1];s&&s.type&&"throttle"===(f=s.type)&&(a(s.ms,"app.start: opts.ms should be defined if type is throttle"),i=s.ms),a(["watcher","takeEvery","takeLatest","throttle"].indexOf(f)>-1,"app.start: effect type should be takeEvery, takeLatest, throttle or watcher")}function l(){}function p(){var e,o,a,i,f,s,p,d,v,y=arguments;return O.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:for(o=Array(e=y.length),a=0;e>a;a++)o[a]=y[a];return s=void 0===(f=(i=o.length>0?o[0]:{}).__dva_resolve)?l:f,d=void 0===(p=i.__dva_reject)?l:p,u.prev=2,u.next=5,lt({type:""+t+h+"@@start"});case 5:return u.next=7,c.apply(void 0,o.concat(Yt(r)));case 7:return v=u.sent,u.next=10,lt({type:""+t+h+"@@end"});case 10:s(v),u.next=17;break;case 13:u.prev=13,u.t0=u.catch(2),n(u.t0,{key:t,effectArgs:o}),u.t0._dontReject||d(u.t0);case 17:case"end":return u.stop()}},u,this,[[2,13]])}var d=function(t,e,r,n){for(var o=Array.isArray(i=t),a=0,i=o?i:i[Symbol.iterator]();;){var u;if(o){if(a>=i.length)break;u=i[a++]}else{if((a=i.next()).done)break;u=a.value}var c=u;e=c(e,Mt,r,n)}return e}(o,p,r,t);switch(f){case"watcher":return p;case"takeLatest":return O.mark(function e(){return O.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt(t,d);case 2:case"end":return e.stop()}},e,this)});case"throttle":return O.mark(function e(){return O.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ht(i,t,d);case 2:case"end":return e.stop()}},e,this)});default:return O.mark(function e(){return O.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gt(t,d);case 2:case"end":return e.stop()}},e,this)})}}function Yt(t){function e(t,e){a(t,"dispatch: action should be a plain Object with type")}function r(r){var n=r.type;return e(n),lt(o({},r,{type:It(n,t)}))}return r.resolve=function(r){var n=r.type;return e(n),lt.resolve(o({},r,{type:It(n,t)}))},o({},Mt,{put:r,take:function(r){return"string"==typeof r?(e(r),ft(It(r,t))):ft(Array.isArray(r)?r.map(function(r){return"string"==typeof r?(e(r),It(r,t)):r}):r)}})}function Xt(t){return t}function zt(t,e){var r=Object.keys(t).map(function(e){return r=e,void 0===(n=t[e])&&(n=Xt),function(t,e){var o=e.type;return a(o,"dispatch: action should be a plain Object with type"),r===o?n(t,e):t};var r,n}),n=function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];return function(t,r){return e.reduce(function(t,e){return e(t,r)},t)}}.apply(void 0,r);return function(t,r){return void 0===t&&(t=e),n(t,r)}}function Bt(t,e,r){return Array.isArray(t)?t[1]((r||zt)(t[0],e)):(r||zt)(t||{},e)}function Jt(t){return function(){return function(e){return function(r){return function(e){if(!e||"string"!=typeof e)return!1;var r=e.split(h)[0],n=t._models.filter(function(t){return t.namespace===r})[0];if(n&&n.effects&&n.effects[e])return!0;return!1}(r.type)?new Promise(function(t,n){e(o({__dva_resolve:t,__dva_reject:n},r))}):e(r)}}}}function Vt(t,e){return function(r){var n=r.type;return a(n,"dispatch: action should be a plain Object with type"),d(0!==n.indexOf(""+e.namespace+h),"dispatch: "+n+" should not be prefixed with namespace "+e.namespace),t(o({},r,{type:It(n,e)}))}}function $t(t,e,r,n){var o=[],a=[];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var u=(0,t[i])({dispatch:Vt(r._store.dispatch,e),history:r._history},n);f(u)?o.push(u):a.push(i)}return{funcs:o,nonFuncs:a}}function Qt(t,e){if(t[e]){var r=t[e],n=r.funcs,o=r.nonFuncs;d(0===o.length,"[app.unmodel] subscription should return unlistener function, check these subscriptions "+o.join(", "));for(var a=Array.isArray(u=n),i=0,u=a?u:u[Symbol.iterator]();;){var c;if(a){if(i>=u.length)break;c=u[i++]}else{if((i=u.next()).done)break;c=i.value}c()}delete t[e]}}var Wt={namespace:"@@dva",state:0,reducers:{UPDATE:function(t){return t+1}}};t.create=function(t,n){void 0===t&&(t={}),void 0===n&&(n={});var i,u=n.initialReducer,f=n.setupApp,d=void 0===f?l:f,h=new m;h.use(Object.keys(i=t).reduce(function(t,e){return g.indexOf(e)>-1&&(t[e]=i[e]),t},{}));var v={_models:[y(o({},Wt))],_store:null,_plugin:h,use:h.use.bind(h),model:x,start:function(){var i=function(t,e){t&&("string"==typeof t&&(t=Error(t)),t.preventDefault=function(){t._dontReject=!0},h.apply("onError",function(t){throw Error(t.stack||t)})(t,v._store.dispatch,e))},f=r(),l=Jt(v);v._getSaga=function(t,e,r,n){return O.mark(function o(){var a;return O.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:o.t0=O.keys(t);case 1:if((o.t1=o.t0()).done){o.next=7;break}if(!Object.prototype.hasOwnProperty.call(t,a=o.t1.value)){o.next=5;break}return o.delegateYield(O.mark(function o(){var i,u;return O.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=Kt(a,t[a],e,r,n),o.next=3,vt(i);case 3:return u=o.sent,o.next=6,vt(O.mark(function t(){return O.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft(e.namespace+"/@@CANCEL_EFFECTS");case 2:return t.next=4,yt(u);case 4:case"end":return t.stop()}},t,this)}));case 6:case"end":return o.stop()}},o,this)})(),"t2",5);case 5:o.next=1;break;case 7:case"end":return o.stop()}},o,this)})}.bind(null);for(var y=[],g=o({},u),m=Array.isArray(k=v._models),w=0,k=m?k:k[Symbol.iterator]();;){var A;if(m){if(w>=k.length)break;A=k[w++]}else{if((w=k.next()).done)break;A=w.value}var E=A;g[E.namespace]=Bt(E.reducers,E.state,h._handleActions),E.effects&&y.push(v._getSaga(E.effects,E,i,h.get("onEffect")))}var _=h.get("onReducer"),j=h.get("extraReducers");a(Object.keys(j).every(function(t){return!(t in g)}),"[app.start] extraReducers is conflict with other reducers, reducers list: "+Object.keys(g).join(", "));var L=v._store=function(t){var r=t.reducers,n=t.initialState,o=t.plugin,i=t.sagaMiddleware,u=t.promiseMiddleware,f=t.createOpts.setupMiddlewares,l=void 0===f?s:f,p=o.get("extraEnhancers");a(c(p),"[app.start] extraEnhancers should be array, but got "+typeof p);var d=o.get("onAction"),h=l([u,i].concat(b(d))),v=e.compose,y=[e.applyMiddleware.apply(void 0,h)].concat(p);return e.createStore(r,n,v.apply(void 0,y))}({reducers:H(),initialState:t.initialState||{},plugin:h,createOpts:n,sagaMiddleware:f,promiseMiddleware:l});L.runSaga=f.run,L.asyncReducers={};for(var S=h.get("onStateChange"),C=function(){if(R){if(P>=T.length)return"break";N=T[P++]}else{if((P=T.next()).done)return"break";N=P.value}var t=N;L.subscribe(function(){t(L.getState())})},R=Array.isArray(T=S),P=0,T=R?T:T[Symbol.iterator]();;){var N,q=C();if("break"===q)break}y.forEach(f.run),d(v);for(var F={},U=Array.isArray(I=this._models),M=0,I=U?I:I[Symbol.iterator]();;){var G;if(U){if(M>=I.length)break;G=I[M++]}else{if((M=I.next()).done)break;G=M.value}var D=G;D.subscriptions&&(F[D.namespace]=$t(D.subscriptions,D,v,i))}function H(){return _(e.combineReducers(o({},g,j,v._store?v._store.asyncReducers:{})))}v.model=function(t,e,r,n){n=x(n);var o=v._store;o.asyncReducers[n.namespace]=Bt(n.reducers,n.state,h._handleActions),o.replaceReducer(t()),n.effects&&o.runSaga(v._getSaga(n.effects,n,e,h.get("onEffect"))),n.subscriptions&&(r[n.namespace]=$t(n.subscriptions,n,v,e))}.bind(v,H,i,F),v.unmodel=function(t,e,r,n){var o=v._store;delete o.asyncReducers[n],delete e[n],o.replaceReducer(t()),o.dispatch({type:"@@dva/UPDATE"}),o.dispatch({type:n+"/@@CANCEL_EFFECTS"}),Qt(r,n),v._models=v._models.filter(function(t){return t.namespace!==n})}.bind(v,H,g,F),v.replaceModel=function(t,e,r,n,o){var a=v._store,i=o.namespace,u=p(v._models,function(t){return t.namespace===i});~u&&(a.dispatch({type:i+"/@@CANCEL_EFFECTS"}),delete a.asyncReducers[i],delete e[i],Qt(r,i),v._models.splice(u,1)),v.model(o),a.dispatch({type:"@@dva/UPDATE"})}.bind(v,H,g,F,i)}};return v;function x(t){var e=y(o({},t));return v._models.push(e),e}},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=dva-core.min.js.map
